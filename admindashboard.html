<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Admin Dashboard (New) - Hon-Isyaku-Bawa-Na'abi-2025</title>
  <link rel="stylesheet" href="assets/css/styles.css">
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background: #f4f7fb;
      color: #333;
    }

    header.header {
      background-color: #001f3f; /* dark blue */
      padding: 1rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    header.header .logo {
      color: white;
      font-size: 1.5rem;
      font-weight: bold;
    }

    header.header .nav a {
      color: white;
      text-decoration: none;
      margin: 0 10px;
      font-weight: bold;
    }

    .section {
      background: white;
      max-width: 800px;
      margin: 2rem auto;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }

    .section h2 {
      margin-bottom: 15px;
      color: #001f3f;
    }

    input, textarea {
      width: 100%;
      padding: 10px;
      margin-bottom: 10px;
      border: 1px solid #ccc;
      border-radius: 5px;
    }

    .btn-save {
      background-color: #00509e;
      color: white;
      border: none;
      padding: 10px 15px;
      border-radius: 5px;
      cursor: pointer;
    }

    .btn-save:hover {
      background-color: #003f7f;
    }

    footer.footer {
      background-color: #001f3f;
      color: white;
      text-align: center;
      padding: 1rem;
      margin-top: 3rem;
    }
  </style>
</head>
<body>

<header class="header">
  <div class="logo">Admin Dashboard</div>
  <nav class="nav">
    <a href="index.html">Home</a>
    <a href="about.html">About</a>
    <a href="contact.html">Contact</a>
    <a href="#" id="logoutBtn">Logout</a>
  </nav>
</header>

<main>
  <!-- Homepage Section -->
  <section class="section" id="homepageSection">
    <h2>Homepage Info</h2>
    <input type="text" id="homeTitle" placeholder="Website Title">
    <input type="text" id="homeSubtitle" placeholder="Website Subtitle">
    <input type="text" id="homeBg" placeholder="Background Image URL">
    <button class="btn-save" onclick="saveHomepage()">Save Homepage</button>
  </section>

  <!-- Gallery Section -->
  <section class="section" id="gallerySection">
    <h2>Gallery Manager</h2>
    <input type="text" id="galleryImage" placeholder="Image URL to add">
    <button class="btn-save" onclick="addGalleryImage()">Add Image</button>
    <ul id="galleryList"></ul>
  </section>

  <!-- Events Section -->
  <section class="section" id="eventsSection">
    <h2>News & Events</h2>
    <input type="text" id="eventTitle" placeholder="Event Title">
    <textarea id="eventDesc" placeholder="Event Description"></textarea>
    <button class="btn-save" onclick="addEvent()">Add Event</button>
    <ul id="eventList"></ul>
  </section>
</main>

<footer class="footer">
  <p>&copy; 2025 IBN APC. All rights reserved.</p>
</footer>

<script>
  // Load Admin Info
  const admin = JSON.parse(localStorage.getItem('loggedInAdmin'));
  if (!admin) {
    window.location.href = "admin.html"; 
  }

  // Logout Function
  document.getElementById('logoutBtn').addEventListener('click', function() {
    localStorage.removeItem('loggedInAdmin');
    window.location.href = "admin.html";
  });

  // Save Homepage Info
  function saveHomepage() {
    const data = {
      title: document.getElementById('homeTitle').value,
      subtitle: document.getElementById('homeSubtitle').value,
      bg: document.getElementById('homeBg').value
    };
    localStorage.setItem('homepageData', JSON.stringify(data));
    alert('Homepage info saved!');
  }

  // Gallery Functions
  function addGalleryImage() {
    let imgURL = document.getElementById('galleryImage').value;
    if (imgURL.trim() === '') return;
    let gallery = JSON.parse(localStorage.getItem('galleryData')) || [];
    gallery.push(imgURL);
    localStorage.setItem('galleryData', JSON.stringify(gallery));
    loadGallery();
    document.getElementById('galleryImage').value = '';
  }

  function loadGallery() {
    let gallery = JSON.parse(localStorage.getItem('galleryData')) || [];
    let list = document.getElementById('galleryList');
    list.innerHTML = '';
    gallery.forEach((url, index) => {
      list.innerHTML += `<li>${url} <button onclick="removeGallery(${index})">Remove</button></li>`;
    });
  }

  function removeGallery(index) {
    let gallery = JSON.parse(localStorage.getItem('galleryData')) || [];
    gallery.splice(index, 1);
    localStorage.setItem('galleryData', JSON.stringify(gallery));
    loadGallery();
  }

  // Events Functions
  function addEvent() {
    let title = document.getElementById('eventTitle').value;
    let desc = document.getElementById('eventDesc').value;
    if (title.trim() === '' || desc.trim() === '') return;
    let events = JSON.parse(localStorage.getItem('eventData')) || [];
    events.push({ title, desc });
    localStorage.setItem('eventData', JSON.stringify(events));
    loadEvents();
    document.getElementById('eventTitle').value = '';
    document.getElementById('eventDesc').value = '';
  }

  function loadEvents() {
    let events = JSON.parse(localStorage.getItem('eventData')) || [];
    let list = document.getElementById('eventList');
    list.innerHTML = '';
    events.forEach((ev, index) => {
      list.innerHTML += `<li><strong>${ev.title}</strong>: ${ev.desc} <button onclick="removeEvent(${index})">Remove</button></li>`;
    });
  }

  function removeEvent(index) {
    let events = JSON.parse(localStorage.getItem('eventData')) || [];
    events.splice(index, 1);
    localStorage.setItem('eventData', JSON.stringify(events));
    loadEvents();
  }

  // Initialize Data
  window.onload = () => {
    const homepageData = JSON.parse(localStorage.getItem('homepageData'));
    if (homepageData) {
      document.getElementById('homeTitle').value = homepageData.title;
      document.getElementById('homeSubtitle').value = homepageData.subtitle;
      document.getElementById('homeBg').value = homepageData.bg;
    }
    loadGallery();
    loadEvents();
  };
</script>
</body>
</html>
